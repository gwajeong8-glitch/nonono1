<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<title>VIP CARD MAKER</title>

<style>
    body {
        background: #111;
        padding: 30px;
        color: #EEE8D5;
        font-family: sans-serif;
        display: flex;
        gap: 30px;
    }

    /* ì¹´ë“œ ì˜ì—­ */
    #cardArea {
        width: 700px;
        height: 450px;
        background-size: cover;
        background-position: center;
        border-radius: 10px;
        position: relative;
        overflow: hidden;
    }

    /* ID í…ìŠ¤íŠ¸ */
    #idText {
        position: absolute;
        color: #FFFDD0;       /* ì•„ì´ë³´ë¦¬ */
        font-size: 23px;
        font-weight: bold;
        left: 310px;           /* â† ì—¬ê¸° ìˆ«ìë§Œ ë°”ê¾¸ë©´ ìœ„ì¹˜ ë³€ê²½ */
        top: 365px;           /* â† ì—¬ê¸° */
    }

    /* CARD NO í…ìŠ¤íŠ¸ */
    #cardNoText {
        position: absolute;
        color: #FFFDD0;
        font-size: 23px;
        font-weight: bold;
        left: 310px;           /* â† ì—¬ê¸° */
        top: 390px;           /* â† ì—¬ê¸° */
    }

    #controls input,
    #controls select,
    #controls button {
        margin-bottom: 10px;
        padding: 7px;
        width: 220px;
    }

    button {
        background: #d4b98b;
        border: none;
        cursor: pointer;
        font-weight: bold;
    }
    
    /* ì €ì¥ ë²„íŠ¼ìš© ìŠ¤íƒ€ì¼ ì¶”ê°€ */
    #saveContentBtn {
        background: #8bd4be; /* êµ¬ë¶„ë˜ê²Œ ìƒ‰ìƒ ë³€ê²½ */
        color: #000;
    }
</style>
</head>

<body>

<!-- ì¹´ë“œ ë°°ê²½ -->
<div id="cardArea" style="background-image: url('vip1.png');">
    <div id="idText">ID: í™ê¸¸ë™</div>
    <div id="cardNoText">CARD NO: 0000000000</div>
</div>

<!-- ì„¤ì • íŒ¨ë„ -->
<div id="controls">

    <label>VIP ì„ íƒ</label><br>
    <select id="vipSelect">
        <option value="vip1.png">VIP 1</option>
        <option value="vip2.png">VIP 2</option>
        <option value="vip3.png">VIP 3</option>
    </select><br>

    <label>ID</label><br>
    <input id="idInput" type="text" value="í™ê¸¸ë™"><br>

    <label>CARD NO</label><br>
    <input id="cardNoInput" type="text" value="0000000000"><br>

    <!-- ğŸ”¥ ì €ì¥ ê¸°ëŠ¥ ë²„íŠ¼ ì¶”ê°€ -->
    <button id="saveContentBtn">ì…ë ¥ ë‚´ìš© ì €ì¥</button>
    <button id="downloadBtn">PNG ë‹¤ìš´ë¡œë“œ</button>
</div>

<!-- html2canvas -->
<script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>

<script>
    const idText = document.getElementById("idText");
    const cardNoText = document.getElementById("cardNoText");
    const idInput = document.getElementById("idInput");
    const cardNoInput = document.getElementById("cardNoInput");
    const vipSelect = document.getElementById("vipSelect");
    const cardArea = document.getElementById("cardArea");

    /* 1. ì´ˆê¸°í™”: ì €ì¥ëœ ë‚´ìš©ì´ ìˆìœ¼ë©´ ë¶ˆëŸ¬ì˜¤ê¸° */
    function loadSavedData() {
        const savedId = localStorage.getItem('vip_id');
        const savedNo = localStorage.getItem('vip_cardNo');
        const savedBg = localStorage.getItem('vip_bg');

        if (savedId) {
            idInput.value = savedId;
            idText.textContent = "ID: " + savedId;
        }
        if (savedNo) {
            cardNoInput.value = savedNo;
            cardNoText.textContent = "CARD NO: " + savedNo;
        }
        if (savedBg) {
            vipSelect.value = savedBg;
            cardArea.style.backgroundImage = `url('${savedBg}')`;
        }
    }
    // í˜ì´ì§€ ë¡œë“œ ì‹œ ì‹¤í–‰
    loadSavedData();

    /* í…ìŠ¤íŠ¸ ì…ë ¥ ë³€ê²½ */
    idInput.addEventListener("input", e => {
        idText.textContent = "ID: " + e.target.value;
    });

    cardNoInput.addEventListener("input", e => {
        cardNoText.textContent = "CARD NO: " + e.target.value;
    });

    /* VIP ë°°ê²½ ë³€ê²½ */
    vipSelect.addEventListener("change", e => {
        cardArea.style.backgroundImage = `url('${e.target.value}')`;
    });

    /* ğŸ”¥ ë‚´ìš© ì €ì¥ ë²„íŠ¼ ê¸°ëŠ¥ */
    document.getElementById("saveContentBtn").addEventListener("click", () => {
        localStorage.setItem('vip_id', idInput.value);
        localStorage.setItem('vip_cardNo', cardNoInput.value);
        localStorage.setItem('vip_bg', vipSelect.value);
        alert("í˜„ì¬ ì…ë ¥ëœ ë‚´ìš©ì´ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤!\në‹¤ìŒì— ë‹¤ì‹œ ì—´ë©´ ê·¸ëŒ€ë¡œ ìœ ì§€ë©ë‹ˆë‹¤.");
    });

    /* PNG ì €ì¥ */
    document.getElementById("downloadBtn").addEventListener("click", () => {
        html2canvas(cardArea).then(canvas => {
            const link = document.createElement("a");
            link.download = "vip_card.png";
            link.href = canvas.toDataURL();
            link.click();
        });
    });
</script>

</body>
</html>
